<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>HTML5-GAME</title>

        <!-- JS-files -->
        <script src="../socket.io/socket.io.js"></script>
        <script>
            var socket = io();

            socket.emit('message', {'sender': 'Mart Linger', 'message': 'Hello World'});

            socket.on('message', function (msg){
                console.log(msg);
            });

            window.onload = function () {
                const c = document.getElementById('canvas');
                var ctx = c.getContext('2d');

                ctx.fillRect(250, 250, 20, 20);

                document.onkeydown = function (event) {
                    switch (event.keyCode) {
                        case 65:
                        case 37:
                        case 68:
                        case 39:
                        case 87:
                        case 38:
                        case 83:
                        case 40:
                            socket.emit('keyPress', {inputId: event.keyCode, state: true});
                    }
                }
                document.onkeyup = function (event) {
                    switch (event.keyCode) {
                        case 65:
                        case 37:
                        case 68:
                        case 39:
                        case 87:
                        case 38:
                        case 83:
                        case 40:
                            socket.emit('keyPress', {inputId: event.keyCode, state: false});
                    }
                }
            }
        </script>
    </head>
    <body>
        <h1>HTML5-game</h1>
        <canvas id="canvas" width="500" height="500" style="border: 1px solid #000"></canvas>
    </body>
</html>